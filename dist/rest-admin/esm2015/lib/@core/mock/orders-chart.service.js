import { Injectable } from '@angular/core';
import { OrdersChartData } from '../data/orders-chart';
import * as i0 from "@angular/core";
import * as i1 from "./periods.service";
export class OrdersChartService extends OrdersChartData {
    constructor(period) {
        super();
        this.period = period;
        this.year = [
            '2012',
            '2013',
            '2014',
            '2015',
            '2016',
            '2017',
            '2018',
        ];
        this.data = {};
        this.data = {
            week: this.getDataForWeekPeriod(),
            month: this.getDataForMonthPeriod(),
            year: this.getDataForYearPeriod(),
        };
    }
    getDataForWeekPeriod() {
        return {
            chartLabel: this.getDataLabels(42, this.period.getWeeks()),
            linesData: [
                [
                    184, 267, 326, 366, 389, 399,
                    392, 371, 340, 304, 265, 227,
                    191, 158, 130, 108, 95, 91, 97,
                    109, 125, 144, 166, 189, 212,
                    236, 259, 280, 300, 316, 329,
                    338, 342, 339, 329, 312, 288,
                    258, 221, 178, 128, 71,
                ],
                [
                    158, 178, 193, 205, 212, 213,
                    204, 190, 180, 173, 168, 164,
                    162, 160, 159, 158, 159, 166,
                    179, 195, 215, 236, 257, 276,
                    292, 301, 304, 303, 300, 293,
                    284, 273, 262, 251, 241, 234,
                    232, 232, 232, 232, 232, 232,
                ],
                [
                    58, 137, 202, 251, 288, 312,
                    323, 324, 311, 288, 257, 222,
                    187, 154, 124, 100, 81, 68, 61,
                    58, 61, 69, 80, 96, 115, 137,
                    161, 186, 210, 233, 254, 271,
                    284, 293, 297, 297, 297, 297,
                    297, 297, 297, 297, 297,
                ],
            ],
        };
    }
    getDataForMonthPeriod() {
        return {
            chartLabel: this.getDataLabels(47, this.period.getMonths()),
            linesData: [
                [
                    5, 63, 113, 156, 194, 225,
                    250, 270, 283, 289, 290,
                    286, 277, 264, 244, 220,
                    194, 171, 157, 151, 150,
                    152, 155, 160, 166, 170,
                    167, 153, 135, 115, 97,
                    82, 71, 64, 63, 62, 61,
                    62, 65, 73, 84, 102,
                    127, 159, 203, 259, 333,
                ],
                [
                    6, 83, 148, 200, 240,
                    265, 273, 259, 211,
                    122, 55, 30, 28, 36,
                    50, 68, 88, 109, 129,
                    146, 158, 163, 165,
                    173, 187, 208, 236,
                    271, 310, 346, 375,
                    393, 400, 398, 387,
                    368, 341, 309, 275,
                    243, 220, 206, 202,
                    207, 222, 247, 286, 348,
                ],
                [
                    398, 348, 315, 292, 274,
                    261, 251, 243, 237, 231,
                    222, 209, 192, 172, 152,
                    132, 116, 102, 90, 80, 71,
                    64, 58, 53, 49, 48, 54, 66,
                    84, 104, 125, 142, 156, 166,
                    172, 174, 172, 167, 159, 149,
                    136, 121, 105, 86, 67, 45, 22,
                ],
            ],
        };
    }
    getDataForYearPeriod() {
        return {
            chartLabel: this.getDataLabels(42, this.year),
            linesData: [
                [
                    190, 269, 327, 366, 389, 398,
                    396, 387, 375, 359, 343, 327,
                    312, 298, 286, 276, 270, 268,
                    265, 258, 247, 234, 220, 204,
                    188, 172, 157, 142, 128, 116,
                    106, 99, 95, 94, 92, 89, 84,
                    77, 69, 60, 49, 36, 22,
                ],
                [
                    265, 307, 337, 359, 375, 386,
                    393, 397, 399, 397, 390, 379,
                    365, 347, 326, 305, 282, 261,
                    241, 223, 208, 197, 190, 187,
                    185, 181, 172, 160, 145, 126,
                    105, 82, 60, 40, 26, 19, 22,
                    43, 82, 141, 220, 321,
                ],
                [
                    9, 165, 236, 258, 244, 206,
                    186, 189, 209, 239, 273, 307,
                    339, 365, 385, 396, 398, 385,
                    351, 300, 255, 221, 197, 181,
                    170, 164, 162, 161, 159, 154,
                    146, 135, 122, 108, 96, 87,
                    83, 82, 82, 82, 82, 82, 82,
                ],
            ],
        };
    }
    getDataLabels(nPoints, labelsArray) {
        const labelsArrayLength = labelsArray.length;
        const step = Math.round(nPoints / labelsArrayLength);
        return Array.from(Array(nPoints)).map((item, index) => {
            const dataIndex = Math.round(index / step);
            return index % step === 0 ? labelsArray[dataIndex] : '';
        });
    }
    getOrdersChartData(period) {
        return this.data[period];
    }
}
OrdersChartService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.1.5", ngImport: i0, type: OrdersChartService, deps: [{ token: i1.PeriodsService }], target: i0.ɵɵFactoryTarget.Injectable });
OrdersChartService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "12.1.5", ngImport: i0, type: OrdersChartService });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.1.5", ngImport: i0, type: OrdersChartService, decorators: [{
            type: Injectable
        }], ctorParameters: function () { return [{ type: i1.PeriodsService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3JkZXJzLWNoYXJ0LnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9yZXN0LWFkbWluL3NyYy9saWIvQGNvcmUvbW9jay9vcmRlcnMtY2hhcnQuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRTNDLE9BQU8sRUFBZSxlQUFlLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQzs7O0FBR3BFLE1BQU0sT0FBTyxrQkFBbUIsU0FBUSxlQUFlO0lBY3JELFlBQW9CLE1BQXNCO1FBQ3hDLEtBQUssRUFBRSxDQUFDO1FBRFUsV0FBTSxHQUFOLE1BQU0sQ0FBZ0I7UUFabEMsU0FBSSxHQUFHO1lBQ2IsTUFBTTtZQUNOLE1BQU07WUFDTixNQUFNO1lBQ04sTUFBTTtZQUNOLE1BQU07WUFDTixNQUFNO1lBQ04sTUFBTTtTQUNQLENBQUM7UUFFTSxTQUFJLEdBQVEsRUFBRyxDQUFDO1FBSXRCLElBQUksQ0FBQyxJQUFJLEdBQUc7WUFDVixJQUFJLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixFQUFFO1lBQ2pDLEtBQUssRUFBRSxJQUFJLENBQUMscUJBQXFCLEVBQUU7WUFDbkMsSUFBSSxFQUFFLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtTQUNsQyxDQUFDO0lBQ0osQ0FBQztJQUVPLG9CQUFvQjtRQUMxQixPQUFPO1lBQ0wsVUFBVSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDMUQsU0FBUyxFQUFFO2dCQUNUO29CQUNFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRztvQkFDNUIsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHO29CQUM1QixHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO29CQUM5QixHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUc7b0JBQzVCLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRztvQkFDNUIsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHO29CQUM1QixHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRTtpQkFDdkI7Z0JBQ0Q7b0JBQ0UsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHO29CQUM1QixHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUc7b0JBQzVCLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRztvQkFDNUIsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHO29CQUM1QixHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUc7b0JBQzVCLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRztvQkFDNUIsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHO2lCQUM3QjtnQkFDRDtvQkFDRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUc7b0JBQzNCLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRztvQkFDNUIsR0FBRyxFQUFF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QUFHLGlCQUFpQixDQUFDLENBQUM7UUFFckQsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtZQUNwRCxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQztZQUUzQyxPQUFPLEtBQUssR0FBRyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUMxRCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxrQkFBa0IsQ0FBQyxNQUFjO1FBQy9CLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUMzQixDQUFDOzsrR0FwSlUsa0JBQWtCO21IQUFsQixrQkFBa0I7MkZBQWxCLGtCQUFrQjtrQkFEOUIsVUFBVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFBlcmlvZHNTZXJ2aWNlIH0gZnJvbSAnLi9wZXJpb2RzLnNlcnZpY2UnO1xuaW1wb3J0IHsgT3JkZXJzQ2hhcnQsIE9yZGVyc0NoYXJ0RGF0YSB9IGZyb20gJy4uL2RhdGEvb3JkZXJzLWNoYXJ0JztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIE9yZGVyc0NoYXJ0U2VydmljZSBleHRlbmRzIE9yZGVyc0NoYXJ0RGF0YSB7XG5cbiAgcHJpdmF0ZSB5ZWFyID0gW1xuICAgICcyMDEyJyxcbiAgICAnMjAxMycsXG4gICAgJzIwMTQnLFxuICAgICcyMDE1JyxcbiAgICAnMjAxNicsXG4gICAgJzIwMTcnLFxuICAgICcyMDE4JyxcbiAgXTtcblxuICBwcml2YXRlIGRhdGE6IGFueSA9IHsgfTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHBlcmlvZDogUGVyaW9kc1NlcnZpY2UpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZGF0YSA9IHtcbiAgICAgIHdlZWs6IHRoaXMuZ2V0RGF0YUZvcldlZWtQZXJpb2QoKSxcbiAgICAgIG1vbnRoOiB0aGlzLmdldERhdGFGb3JNb250aFBlcmlvZCgpLFxuICAgICAgeWVhcjogdGhpcy5nZXREYXRhRm9yWWVhclBlcmlvZCgpLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGdldERhdGFGb3JXZWVrUGVyaW9kKCk6IE9yZGVyc0NoYXJ0IHtcbiAgICByZXR1cm4ge1xuICAgICAgY2hhcnRMYWJlbDogdGhpcy5nZXREYXRhTGFiZWxzKDQyLCB0aGlzLnBlcmlvZC5nZXRXZWVrcygpKSxcbiAgICAgIGxpbmVzRGF0YTogW1xuICAgICAgICBbXG4gICAgICAgICAgMTg0LCAyNjcsIDMyNiwgMzY2LCAzODksIDM5OSxcbiAgICAgICAgICAzOTIsIDM3MSwgMzQwLCAzMDQsIDI2NSwgMjI3LFxuICAgICAgICAgIDE5MSwgMTU4LCAxMzAsIDEwOCwgOTUsIDkxLCA5NyxcbiAgICAgICAgICAxMDksIDEyNSwgMTQ0LCAxNjYsIDE4OSwgMjEyLFxuICAgICAgICAgIDIzNiwgMjU5LCAyODAsIDMwMCwgMzE2LCAzMjksXG4gICAgICAgICAgMzM4LCAzNDIsIDMzOSwgMzI5LCAzMTIsIDI4OCxcbiAgICAgICAgICAyNTgsIDIyMSwgMTc4LCAxMjgsIDcxLFxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgMTU4LCAxNzgsIDE5MywgMjA1LCAyMTIsIDIxMyxcbiAgICAgICAgICAyMDQsIDE5MCwgMTgwLCAxNzMsIDE2OCwgMTY0LFxuICAgICAgICAgIDE2MiwgMTYwLCAxNTksIDE1OCwgMTU5LCAxNjYsXG4gICAgICAgICAgMTc5LCAxOTUsIDIxNSwgMjM2LCAyNTcsIDI3NixcbiAgICAgICAgICAyOTIsIDMwMSwgMzA0LCAzMDMsIDMwMCwgMjkzLFxuICAgICAgICAgIDI4NCwgMjczLCAyNjIsIDI1MSwgMjQxLCAyMzQsXG4gICAgICAgICAgMjMyLCAyMzIsIDIzMiwgMjMyLCAyMzIsIDIzMixcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIDU4LCAxMzcsIDIwMiwgMjUxLCAyODgsIDMxMixcbiAgICAgICAgICAzMjMsIDMyNCwgMzExLCAyODgsIDI1NywgMjIyLFxuICAgICAgICAgIDE4NywgMTU0LCAxMjQsIDEwMCwgODEsIDY4LCA2MSxcbiAgICAgICAgICA1OCwgNjEsIDY5LCA4MCwgOTYsIDExNSwgMTM3LFxuICAgICAgICAgIDE2MSwgMTg2LCAyMTAsIDIzMywgMjU0LCAyNzEsXG4gICAgICAgICAgMjg0LCAyOTMsIDI5NywgMjk3LCAyOTcsIDI5NyxcbiAgICAgICAgICAyOTcsIDI5NywgMjk3LCAyOTcsIDI5NyxcbiAgICAgICAgXSxcbiAgICAgIF0sXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RGF0YUZvck1vbnRoUGVyaW9kKCk6IE9yZGVyc0NoYXJ0IHtcbiAgICByZXR1cm4ge1xuICAgICAgY2hhcnRMYWJlbDogdGhpcy5nZXREYXRhTGFiZWxzKDQ3LCB0aGlzLnBlcmlvZC5nZXRNb250aHMoKSksXG4gICAgICBsaW5lc0RhdGE6IFtcbiAgICAgICAgW1xuICAgICAgICAgIDUsIDYzLCAxMTMsIDE1NiwgMTk0LCAyMjUsXG4gICAgICAgICAgMjUwLCAyNzAsIDI4MywgMjg5LCAyOTAsXG4gICAgICAgICAgMjg2LCAyNzcsIDI2NCwgMjQ0LCAyMjAsXG4gICAgICAgICAgMTk0LCAxNzEsIDE1NywgMTUxLCAxNTAsXG4gICAgICAgICAgMTUyLCAxNTUsIDE2MCwgMTY2LCAxNzAsXG4gICAgICAgICAgMTY3LCAxNTMsIDEzNSwgMTE1LCA5NyxcbiAgICAgICAgICA4MiwgNzEsIDY0LCA2MywgNjIsIDYxLFxuICAgICAgICAgIDYyLCA2NSwgNzMsIDg0LCAxMDIsXG4gICAgICAgICAgMTI3LCAxNTksIDIwMywgMjU5LCAzMzMsXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICA2LCA4MywgMTQ4LCAyMDAsIDI0MCxcbiAgICAgICAgICAyNjUsIDI3MywgMjU5LCAyMTEsXG4gICAgICAgICAgMTIyLCA1NSwgMzAsIDI4LCAzNixcbiAgICAgICAgICA1MCwgNjgsIDg4LCAxMDksIDEyOSxcbiAgICAgICAgICAxNDYsIDE1OCwgMTYzLCAxNjUsXG4gICAgICAgICAgMTczLCAxODcsIDIwOCwgMjM2LFxuICAgICAgICAgIDI3MSwgMzEwLCAzNDYsIDM3NSxcbiAgICAgICAgICAzOTMsIDQwMCwgMzk4LCAzODcsXG4gICAgICAgICAgMzY4LCAzNDEsIDMwOSwgMjc1LFxuICAgICAgICAgIDI0MywgMjIwLCAyMDYsIDIwMixcbiAgICAgICAgICAyMDcsIDIyMiwgMjQ3LCAyODYsIDM0OCxcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIDM5OCwgMzQ4LCAzMTUsIDI5MiwgMjc0LFxuICAgICAgICAgIDI2MSwgMjUxLCAyNDMsIDIzNywgMjMxLFxuICAgICAgICAgIDIyMiwgMjA5LCAxOTIsIDE3MiwgMTUyLFxuICAgICAgICAgIDEzMiwgMTE2LCAxMDIsIDkwLCA4MCwgNzEsXG4gICAgICAgICAgNjQsIDU4LCA1MywgNDksIDQ4LCA1NCwgNjYsXG4gICAgICAgICAgODQsIDEwNCwgMTI1LCAxNDIsIDE1NiwgMTY2LFxuICAgICAgICAgIDE3MiwgMTc0LCAxNzIsIDE2NywgMTU5LCAxNDksXG4gICAgICAgICAgMTM2LCAxMjEsIDEwNSwgODYsIDY3LCA0NSwgMjIsXG4gICAgICAgIF0sXG4gICAgICBdLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGdldERhdGFGb3JZZWFyUGVyaW9kKCk6IE9yZGVyc0NoYXJ0IHtcbiAgICByZXR1cm4ge1xuICAgICAgY2hhcnRMYWJlbDogdGhpcy5nZXREYXRhTGFiZWxzKDQyLCB0aGlzLnllYXIpLFxuICAgICAgbGluZXNEYXRhOiBbXG4gICAgICAgIFtcbiAgICAgICAgICAxOTAsIDI2OSwgMzI3LCAzNjYsIDM4OSwgMzk4LFxuICAgICAgICAgIDM5NiwgMzg3LCAzNzUsIDM1OSwgMzQzLCAzMjcsXG4gICAgICAgICAgMzEyLCAyOTgsIDI4NiwgMjc2LCAyNzAsIDI2OCxcbiAgICAgICAgICAyNjUsIDI1OCwgMjQ3LCAyMzQsIDIyMCwgMjA0LFxuICAgICAgICAgIDE4OCwgMTcyLCAxNTcsIDE0MiwgMTI4LCAxMTYsXG4gICAgICAgICAgMTA2LCA5OSwgOTUsIDk0LCA5MiwgODksIDg0LFxuICAgICAgICAgIDc3LCA2OSwgNjAsIDQ5LCAzNiwgMjIsXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICAyNjUsIDMwNywgMzM3LCAzNTksIDM3NSwgMzg2LFxuICAgICAgICAgIDM5MywgMzk3LCAzOTksIDM5NywgMzkwLCAzNzksXG4gICAgICAgICAgMzY1LCAzNDcsIDMyNiwgMzA1LCAyODIsIDI2MSxcbiAgICAgICAgICAyNDEsIDIyMywgMjA4LCAxOTcsIDE5MCwgMTg3LFxuICAgICAgICAgIDE4NSwgMTgxLCAxNzIsIDE2MCwgMTQ1LCAxMjYsXG4gICAgICAgICAgMTA1LCA4MiwgNjAsIDQwLCAyNiwgMTksIDIyLFxuICAgICAgICAgIDQzLCA4MiwgMTQxLCAyMjAsIDMyMSxcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIDksIDE2NSwgMjM2LCAyNTgsIDI0NCwgMjA2LFxuICAgICAgICAgIDE4NiwgMTg5LCAyMDksIDIzOSwgMjczLCAzMDcsXG4gICAgICAgICAgMzM5LCAzNjUsIDM4NSwgMzk2LCAzOTgsIDM4NSxcbiAgICAgICAgICAzNTEsIDMwMCwgMjU1LCAyMjEsIDE5NywgMTgxLFxuICAgICAgICAgIDE3MCwgMTY0LCAxNjIsIDE2MSwgMTU5LCAxNTQsXG4gICAgICAgICAgMTQ2LCAxMzUsIDEyMiwgMTA4LCA5NiwgODcsXG4gICAgICAgICAgODMsIDgyLCA4MiwgODIsIDgyLCA4MiwgODIsXG4gICAgICAgIF0sXG4gICAgICBdLFxuICAgIH07XG4gIH1cblxuICBnZXREYXRhTGFiZWxzKG5Qb2ludHM6IG51bWJlciwgbGFiZWxzQXJyYXk6IHN0cmluZ1tdKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IGxhYmVsc0FycmF5TGVuZ3RoID0gbGFiZWxzQXJyYXkubGVuZ3RoO1xuICAgIGNvbnN0IHN0ZXAgPSBNYXRoLnJvdW5kKG5Qb2ludHMgLyBsYWJlbHNBcnJheUxlbmd0aCk7XG5cbiAgICByZXR1cm4gQXJyYXkuZnJvbShBcnJheShuUG9pbnRzKSkubWFwKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgZGF0YUluZGV4ID0gTWF0aC5yb3VuZChpbmRleCAvIHN0ZXApO1xuXG4gICAgICByZXR1cm4gaW5kZXggJSBzdGVwID09PSAwID8gbGFiZWxzQXJyYXlbZGF0YUluZGV4XSA6ICcnO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0T3JkZXJzQ2hhcnREYXRhKHBlcmlvZDogc3RyaW5nKTogT3JkZXJzQ2hhcnQge1xuICAgIHJldHVybiB0aGlzLmRhdGFbcGVyaW9kXTtcbiAgfVxufVxuIl19